---
title: "Week 4 Assignment"
author: "Kurt Stoneburner"
date: June 22nd 2020
output:
  html_document: default
  pdf_document: default
  word_document: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
#require("knitr")
#opts_knit$set(root.dir = "L:\\stonk\\projects\\DSC\\dsc520")
#setwd("L:\\stonk\\projects\\DSC\\dsc520")
rootDir <- "L:\\stonk\\projects\\DSC\\dsc520"
filePath <- paste(rootDir,"\\data\\student-survey.csv",sep="")
survey_df <- read.csv(filePath)
```
#### A. Use R to calculate the covariance of the Survey variables and provide an explanation of why you would use this calculation and what the results indicate.

Covariance
```{r cov, echo=FALSE}
round(cov(survey_df),2)
```

The covariance is a measure of how one variable varies compared to another variable. A primary purpose of this calculation is to measure if a variable has varies positively or negatively compared to another variable. For example, in the Student Survery covariance table, TimeReading has a negative covariance with both TimeTV and Happiness. This can be interpreted as the surveyed students reported increased reading time, there were decreases in Television Time and Happiness. 

The covariance is suitable for measuring if one variable affects another positively or negatively which helps describe the relationship between variables. However, it is difficult to ascertain the strength of the relationship unless all the values are in the same unit of measurement. 

The results indicate:
  As TimeReading Increases - TimeTV Decreases & Happiness Decreases
  As TimeTV Increases - TimeReading Decreases & Happiness Increases
  As Happiness Increases - TimeReading Decreases & TimeTV Increases
  
  Gender does not appear to significantly affect: TimeReading, TimeTV, or Happiness. 

#### B. Examine the Survey data variables. What measurement is being used for the variables? 

TimeReading and TimeTV appear to be discrete measurements of time. The units of measured time are unknown. Nor can it be assumed that both variables are using the same units of time. Likely, TimeReading is in Hours per day, and TimeTV is in minutes per day. But this is purely a guess.

#### Explain what effect changing the measurement being used for the variables would have on the covariance calculation. Would this be a problem? Explain and provide a better alternative if needed.

Changing values will affect the covariance calculation. For example, if TimeReading was in hours, it could be converted to minutes by multiplying each value by 60. The actual covariance values increase greatly as well.

The student survey would look like this:
``` {r mins_survey, echo=FALSE}
#Build New Data Frame with Time Reading in Minutes
mins_reading_df <- data.frame(
  survey_df$TimeReading*60,
  survey_df$TimeTV,
  survey_df$Happiness,
  survey_df$Gender)

#Let's have some nice readable column headers.
colnames(mins_reading_df) <- c("TimeReading(mins)","TimeTV(mins)","Happiness","Gender")
mins_reading_df
```

The resulting covariance table:
``` {r mins_covariance, echo=FALSE}
round(cov(mins_reading_df),2)

###Tertium Quid - Unknown third variable

```

I do not believe changing the units of measurement would affect the interpretation of covariance. Since it is difficult to measure the intensity of the covariance the relative values themselves appear to be less important. The prior observations remain true (whether a variable positively or negatively affects another), just at a different unit of measurement.

#### C. Choose the type of correlation test to perform, explain why you chose this test, and make a prediction if the test yields a positive or negative correlation?

I would correlate happiness and TimeReading. In relative units, correlating TimeReading and happiness generated a greater difference in value from correlating Happiness with itself. Happiness had a self correlated value of 185, and happiness correlated with TimeReading was -10. I predict that TimeReading has a negative correlation on Happiness. I would use Kendall's tau to generate a correlation coefficient since it works best with small data sets of non-parametric data.

#### D1. Perform a correlation analysis of all variables:
``` {r Correlate_all_variables, echo=FALSE}
cor(survey_df,method="kendall")
```

#### D2. A single correlation between a pair of the variables
``` {r correlate_Reading_TV_95, echo=FALSE}
cor.test(survey_df$TimeReading,survey_df$Happiness, conf.level = 0.95)
```

#### D3. Repeat your correlation test in step 2 but set the confidence interval at 99%
``` {r correlate_Reading_TV_99, echo=FALSE}
cor.test(survey_df$TimeReading,survey_df$Happiness, conf.level = 0.99)
```


#### D4. Describe what the calculations in the correlation matrix suggest about the relationship between the variables. Be specific with your explanation.
XXXXXXXXXXXXXXXXXXXXXXXXXXXXX

#### D5. Calculate the correlation coefficient and the coefficient of determination, describe what you conclude about the results.
